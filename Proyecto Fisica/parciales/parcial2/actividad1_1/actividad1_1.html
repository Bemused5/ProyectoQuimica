<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ElementAI Unidad 1 Parcial 2</title>
        <link rel="icon" type="image/jpg" href="../assets/logoupslp.jpg">
        <script defer src="../navigation_bar.js"></script>
        <link rel="stylesheet" href="../styles.css">
        <script src="../calculos.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Golos+Text:wght@500;700&display=swap" rel="stylesheet">
        <script
        src="https://kit.fontawesome.com/7e5b2d153f.js"
        crossorigin="anonymous"
        ></script>
       
      
    </head>
    <body>
      <div></div>
        <header class="header">
            <nav class="nav">
              <a href="/Proyecto Fisica/elemental.html" class="logo nav-link">ElementAI</a>
              <button class="nav-toggle" aria-label="Abrir menú">
                <i class="fas fa-bars"></i>
              </button>
              <ul class="nav-menu">
                <li class="nav-menu-item">
                    <a href="/Proyecto Fisica/parciales/parcial1/inicio_Parcial1.html" class="nav-menu-link nav-link">Primer Parcial</a>
                  </li>
                  <li class="nav-menu-item">
                    <a href="/Proyecto Fisica/parciales/parcial2/inicio_Parcial2.html" class="nav-menu-link nav-link">Segundo Parcial</a>
                  </li>
                  <li class="nav-menu-item">
                    <a href="/Proyecto Fisica/parciales/parcial3/inicio_Parcial3.html" class="nav-menu-link nav-link">Tercer Parcial</a>
                  </li>
    
              </ul>
            </nav>
        </header>
        <main class="actividad">
           <!-- Menú a la izquierda -->
          <aside class="left-menu">
            <ul>
                <li><a href="#unidad1">Unidad 1</a></li>
                <li><a href="#unidad2">Unidad 2</a></li>
                <li><a href="#unidad3">Unidad 3</a></li>
                <!-- Agrega más unidades según lo necesites -->
            </ul>
          </aside>
          
          <!-- Contenido principal -->
          <section class="main-content">
            <h1 class="text-centered">Unidad 1 Segundo Parcial</h1>
            <br><br>
            <section class="answer-area">
                <section class="answer">
                    <button id="boton-verificar" onclick="fetchGptResponse()">Iniciar unidad 1</button>
                </section>
            </section>
            <br><br><br>
            <section id="chat-area" style="display: flex; flex-direction: column;">
              <section id="resultado-1-1-2">
                  <p><span id="resultado"></span></p>
              </section>
            </section>

          <div class="footer-input">
            <textarea class="expandable-textarea" placeholder="Escribe tu pregunta aquí..."></textarea>
            <button onclick="sendUserQuery()" title="Enviar" class="sendbutton"><i class="fas fa-paper-plane"></i></button>
          </div>
        
          </section>
          
        </main>
        
        <script>
          function fetchGptResponse() {
          // Establece el mensaje inicial cuando se hace clic en el botón
          document.getElementById("resultado").textContent = "Esperando respuesta...";

          let message = "Explain what programming is in a simple and friendly way for beginners.";

          fetch('http://localhost:5000/get_gpt_response', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify({ message: message }),
          })
          .then(response => response.json())
          .then(data => {
              // Actualiza el contenido del span con la respuesta de la API
              document.getElementById("resultado").textContent = data.message;
          })
          .catch((error) => {
              // Aquí puedes manejar el error, por ejemplo, mostrando un mensaje al usuario
              document.getElementById("resultado").textContent = "Hubo un error al obtener la respuesta.";
              console.error('Error:', error);
          });
          }

      </script>
    </body>
</html>